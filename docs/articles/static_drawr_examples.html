<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Static drawr examples • shinysense</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Static drawr examples">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">shinysense</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/static_drawr_examples.html">Static drawr examples</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="static_drawr_examples_files/htmlwidgets-1.3/htmlwidgets.js"></script><script src="static_drawr_examples_files/r2d3-render-0.1.0/r2d3-render.js"></script><script src="static_drawr_examples_files/webcomponents-2.0.0/webcomponents.js"></script><script src="static_drawr_examples_files/r2d3-binding-0.2.3/r2d3.js"></script><script src="static_drawr_examples_files/d3v5-5.0.0/d3.min.js"></script><script src="static_drawr_examples_files/d3-jetpack-2.0.9/d3-jetpack.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Static drawr examples</h1>
            
      
      
      <div class="hidden name"><code>static_drawr_examples.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(shinysense)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co">#&gt; Attaching package: 'dplyr'</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="co">#&gt; The following objects are masked from 'package:stats':</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="co">#&gt;     filter, lag</span></a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="co">#&gt; The following objects are masked from 'package:base':</span></a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="co">#&gt;     intersect, setdiff, setequal, union</span></a></code></pre></div>
<p>You can embedd you-draw-it style charts in your rmarkdown reports or plain standalone HTML documents by using <a href="http://nickstrayer.me/shinysense/reference/drawr.html"><code><a href="../reference/drawr.html">shinysense::drawr</a></code></a>. The options work almost identical to how they do in <a href="http://nickstrayer.me/shinysense/reference/shinydrawr.html"><code>shinydrawr</code></a>.</p>
<p>To demo this let’s generate a simple timeseries dataset for our charts:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">plot_data &lt;-<span class="st"> </span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">tibble</a></span>(</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">  <span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">50</span>, </a>
<a class="sourceLine" id="cb2-3" data-line-number="3">  <span class="dt">value =</span> <span class="kw"><a href="https://rdrr.io/r/base/Trig.html">sin</a></span>(x)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4">)</a>
<a class="sourceLine" id="cb2-5" data-line-number="5"></a>
<a class="sourceLine" id="cb2-6" data-line-number="6">plot_data</a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co">#&gt; # A tibble: 50 x 2</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="co">#&gt;        x  value</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co">#&gt;    &lt;int&gt;  &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="co">#&gt;  1     1  0.841</span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="co">#&gt;  2     2  0.909</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="co">#&gt;  3     3  0.141</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="co">#&gt;  4     4 -0.757</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14"><span class="co">#&gt;  5     5 -0.959</span></a>
<a class="sourceLine" id="cb2-15" data-line-number="15"><span class="co">#&gt;  6     6 -0.279</span></a>
<a class="sourceLine" id="cb2-16" data-line-number="16"><span class="co">#&gt;  7     7  0.657</span></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="co">#&gt;  8     8  0.989</span></a>
<a class="sourceLine" id="cb2-18" data-line-number="18"><span class="co">#&gt;  9     9  0.412</span></a>
<a class="sourceLine" id="cb2-19" data-line-number="19"><span class="co">#&gt; 10    10 -0.544</span></a>
<a class="sourceLine" id="cb2-20" data-line-number="20"><span class="co">#&gt; # … with 40 more rows</span></a></code></pre></div>
<p>Now we can get into building our plots. We can start with the defaults.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># Standard mode</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="kw"><a href="../reference/drawr.html">drawr</a></span>(</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">  plot_data,</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">  <span class="dt">x_col =</span> x,</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">  <span class="dt">y_col =</span> value,</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">  <span class="dt">draw_start =</span> <span class="dv">25</span> <span class="co"># Start obscuring data after x = 25</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7">)</a></code></pre></div>
<div id="htmlwidget-f78ec875400318cb4c08" style="width:672px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-f78ec875400318cb4c08">{"x":{"data":{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"y":[0.841470984807897,0.909297426825682,0.141120008059867,-0.756802495307928,-0.958924274663138,-0.279415498198926,0.656986598718789,0.989358246623382,0.412118485241757,-0.54402111088937,-0.999990206550703,-0.536572918000435,0.420167036826641,0.99060735569487,0.650287840157117,-0.287903316665065,-0.961397491879557,-0.750987246771676,0.149877209662952,0.912945250727628,0.836655638536056,-0.00885130929040388,-0.846220404175171,-0.905578362006624,-0.132351750097773,0.762558450479603,0.956375928404503,0.270905788307869,-0.663633884212968,-0.988031624092862,-0.404037645323065,0.551426681241691,0.999911860107267,0.529082686120024,-0.428182669496151,-0.991778853443116,-0.643538133356999,0.296368578709385,0.963795386284088,0.745113160479349,-0.158622668804709,-0.916521547915634,-0.831774742628598,0.0177019251054136,0.850903524534118,0.901788347648809,0.123573122745224,-0.768254661323667,-0.953752652759472,-0.262374853703929]},"type":"data.frame","container":"svg","options":{"draw_start":25,"pin_start":true,"x_range":[0.02,50.98],"y_range":[-1.1999804132165,1.19990206677306],"x_name":"x","y_name":"value","line_style":null,"data_line_color":"steelblue","drawn_line_color":"orangered","title":null,"free_draw":false,"shiny_message_loc":null},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  /tmp/RtmpLAfLYP/temp_libpath73777f23b08b/shinysense/r2d3/drawr/main.js */\n// !preview r2d3 data = tibble(x = 1:50, y = sin(x)), options = list(free_draw = FALSE, draw_start = 10, pin_start = FALSE, x_range = c(0,50), y_range = c(-5,5), line_style = list(strokeWidth = 4), data_line_color = 'steelblue', drawn_line_color = 'orangered', x_name = 'my_x_col', y_name = 'my_y_col', title = 'My Drawr Plot', shiny_message_loc = 'my_shiny_app'), dependencies = c('d3-jetpack'),\n\nconst system_font = `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`;\n\nconst margin = {left: 55, right: 10, top: options.title ? 50: 15, bottom: 25};\n\nconst default_line_attrs = Object.assign({\n  fill: \"none\",\n  stroke: options.data_line_color || 'steelblue',\n  strokeWidth: 4,\n  strokeLinejoin: \"round\",\n  strokeLinecap: \"round\",\n}, options.line_style);\n\n\nlet state = Object.assign({\n  data: data,\n  svg: svg.append('g').translate([margin.left, margin.top]),\n  w: width - margin.left - margin.right,\n  h: height - margin.top - margin.bottom,\n}, options);\n\n\n// To distinguish between code that runs at initialization-time only and\n// code that runs when data changes, organize your code so that the code\n// which responds to data changes is contained within the r2d3.onRender()\nr2d3.onRender(function(data, svg, width, height, options) {\n  state.data = data;\n\n  state = Object.assign(state, options);\n  state.options = options;\n\n  start_drawer(state);\n});\n\n// An explicit resize handler\nr2d3.onResize(function(width, height) {\n  state.w = width - margin.left - margin.right;\n  state.h = height - margin.top - margin.bottom;\n\n  start_drawer(state, reset = false);\n});\n\n\n// Main function that draws current state of viz\nfunction start_drawer(state, reset = true){\n  const scales = setup_scales(state);\n\n  if(!state.free_draw){\n    draw_true_line(state, scales);\n  }\n\n  // Cover hidden portion with a rectangle\n  const line_hider = setup_line_hider(state.svg, state.draw_start, scales);\n\n  if(reset){\n    state.drawable_points = setup_drawable_points(state);\n  }\n\n  draw_user_line(state, scales);\n\n  const on_drag = function(){\n    const drag_x = scales.x.invert(d3.event.x);\n    const drag_y = scales.y.invert(d3.event.y);\n    fill_in_closest_point(state, drag_x, drag_y);\n    draw_user_line(state, scales);\n  };\n\n  const on_end = function(){\n    // Check if all points are drawn so we can reveal line\n    const line_status = get_user_line_status(state);\n\n    if(line_status === 'finished'){\n      // User has completed line drawing\n      if(!state.free_draw)  line_hider.reveal();\n\n      if(state.shiny_message_loc){\n        // Make sure shiny is available before sending message\n        if(typeof Shiny !== 'undefined'){\n          // Send drawn points off to server\n          Shiny.onInputChange(\n            state.shiny_message_loc,\n            state.drawable_points.map(d => d.y)\n          );\n        } else {\n          console.log(`Sending message to ${state.shiny_message_loc}`);\n        }\n      }\n    }\n  };\n\n  setup_draw_watcher(state.svg, scales, on_drag, on_end);\n\n  // Do we have a title?\n  if(state.title){\n    state.svg.append('text')\n      .at({\n        y: -margin.top/2,\n        dominantBaseline: 'middle',\n        fontSize: '1.5rem',\n      })\n      .style('font-family', system_font)\n      .text(state.title);\n  }\n}\n\nfunction setup_drawable_points({data, free_draw, draw_start}){\n  if(free_draw){\n     return data.map(d => ({x: d.x, y: null}));\n   } else {\n    return data\n      .filter(d => d.x >= draw_start)\n      .map((d,i) => ({\n        x: d.x,\n        y: i === 0 ? d.y: null\n      }));\n   }\n\n}\n\nfunction get_user_line_status({drawable_points, free_draw}){\n  const num_points = drawable_points.length;\n  const num_filled = d3.sum(drawable_points.map(d => d.y === null ? 0: 1));\n  const num_starting_filled = free_draw ? 0: 1;\n\n  if(num_filled === num_starting_filled){\n    return 'unstarted';\n  } else if(num_points === num_filled){\n    return 'finished';\n  } else {\n    return 'in_progress';\n  }\n}\n\nfunction draw_true_line({svg, data}, scales){\n  // Draw visable portion of line\n  state.svg.selectAppend(\"path.shown_line\")\n      .datum(data)\n      .at(default_line_attrs)\n      .attr(\"d\", scales.line_drawer);\n}\n\nfunction draw_user_line(state, scales){\n  const {svg, drawable_points, drawn_line_color} = state;\n\n  const user_line = state.svg.selectAppend(\"path.user_line\");\n\n  // Only draw line if there's something to draw.\n  if(get_user_line_status(state) === 'unstarted'){\n    user_line.remove();\n    return;\n  }\n\n  // Draw user hidden line\n  user_line\n      .datum(drawable_points)\n      .at(default_line_attrs)\n      .attr('stroke', drawn_line_color)\n      .attr(\"d\", scales.line_drawer);\n}\n\nfunction fill_in_closest_point({drawable_points, pin_start, free_draw}, drag_x, drag_y){\n  // find closest point on data to draw\n  let last_dist = Infinity;\n  let current_dist;\n  // If nothing triggers break statement than closest point is last point\n  let closest_index = drawable_points.length - 1;\n  const starting_index = free_draw ? 0 : (pin_start ? 1: 0);\n  for(i = starting_index; i < drawable_points.length; i++){\n    current_dist = Math.abs(drawable_points[i].x - drag_x);\n    // If distances start going up we've passed the closest point\n    if(last_dist - current_dist < 0) {\n      closest_index = i - 1;\n      break;\n    }\n    last_dist = current_dist;\n  }\n\n  drawable_points[closest_index].y = drag_y;\n}\n\nfunction setup_draw_watcher(svg, scales, on_drag, on_end){\n\n  svg.selectAppend('rect.drag_watcher')\n    .at({\n      height: scales.y.range()[0],\n      width: scales.x.range()[1],\n      fill: 'grey',\n      fillOpacity: 0,\n    })\n    .call(\n      d3.drag()\n        .on(\"drag\", on_drag)\n        .on(\"end\", on_end)\n    );\n}\n\nfunction setup_line_hider(svg, draw_start, scales){\n  // Cover hidden portion with a rectangle\n  const start_pos = scales.x(draw_start);\n  const rect_width = scales.x.range()[1] - start_pos + 5;\n  const covering_all_data = scales.x(draw_start) === scales.x.range()[0];\n  const rect = svg.selectAppend('rect.line_hider')\n    .at({\n      x: scales.x(draw_start) + (covering_all_data ? 2: 0),\n      height: scales.y.range()[0],\n      width: rect_width,\n      fill: 'white',\n    });\n\n  const reset = () => {\n     rect\n      .translate([0,0])\n      .attr('fill-opacity', 1)\n      .classed('hidden', false);\n  };\n\n  const reveal = () => {\n    rect\n      .transition()\n      .duration(2000)\n      .translate([rect_width, 0])\n      .transition()\n      .duration(0)\n      .attr('fill-opacity', 0)\n      .attr('classed', 'hidden');\n  };\n\n  return {\n    rect,\n    reveal,\n    reset,\n  }\n}\n\nfunction add_axis_label(label, y_axis = true){\n\n  const bump_axis = y_axis ? 'x': 'y';\n\n  const axis_label_style = {\n    [bump_axis]: bump_axis == 'y' ? 3: -2,\n    textAnchor: 'end',\n    fontWeight: '500',\n    fontSize: '0.9rem',\n  };\n\n  return g => {\n    let last_tick = g.select(\".tick:last-of-type\");\n    const no_ticks = last_tick.empty();\n\n    if(no_ticks){\n      last_tick = g.append('g')\n        .attr('class', 'tick');\n    }\n\n    last_tick.select(\"line\").remove();\n\n    last_tick.selectAppend(\"text\")\n            .at(axis_label_style)\n            .html(label);\n  };\n}\n\n// Setup scales for visualization\nfunction setup_scales(state){\n  const {w, h, data, x_range, y_range, x_name, y_name} = state;\n\n  const x = d3.scaleLinear()\n      .domain(x_range || d3.extent(data, d => d.x))\n      .range([0, w]);\n\n  const y = d3.scaleLinear()\n      .domain(y_range || d3.extent(data, d => d.y))\n      .range([h, 0]);\n\n  // Draw x axis\n  state.svg.selectAppend(\"g.x_axis\")\n    .translate([0, h])\n    .call(d3.axisBottom().scale(x).tickSizeOuter(0))\n    .call(add_axis_label(x_name, y_axis = false));\n\n  // Draw y axis\n  state.svg.selectAppend(\"g.y_axis\")\n    .call(d3.axisLeft().scale(y).tickSizeOuter(0))\n    .call(add_axis_label(y_name, y_axis = true));\n\n  const line_drawer = d3.line()\n    .defined(d => d.y !== null)\n    .x(d => x(d.x))\n    .y(d => y(d.y));\n\n  return {\n    x,\n    y,\n    line_drawer,\n  };\n}\n};","style":[],"version":5,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><p>You can do things like change the colors of the lines:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="../reference/drawr.html">drawr</a></span>(</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">  plot_data,</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">  <span class="dt">x_col =</span> x,</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">  <span class="dt">y_col =</span> value,</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">  <span class="dt">draw_start =</span> <span class="dv">25</span>,</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">  <span class="dt">data_line_color =</span> <span class="st">'red'</span>,</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">  <span class="dt">drawn_line_color =</span> <span class="st">'green'</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8">)</a></code></pre></div>
<div id="htmlwidget-b4a26a8a995f10bbd983" style="width:672px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-b4a26a8a995f10bbd983">{"x":{"data":{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"y":[0.841470984807897,0.909297426825682,0.141120008059867,-0.756802495307928,-0.958924274663138,-0.279415498198926,0.656986598718789,0.989358246623382,0.412118485241757,-0.54402111088937,-0.999990206550703,-0.536572918000435,0.420167036826641,0.99060735569487,0.650287840157117,-0.287903316665065,-0.961397491879557,-0.750987246771676,0.149877209662952,0.912945250727628,0.836655638536056,-0.00885130929040388,-0.846220404175171,-0.905578362006624,-0.132351750097773,0.762558450479603,0.956375928404503,0.270905788307869,-0.663633884212968,-0.988031624092862,-0.404037645323065,0.551426681241691,0.999911860107267,0.529082686120024,-0.428182669496151,-0.991778853443116,-0.643538133356999,0.296368578709385,0.963795386284088,0.745113160479349,-0.158622668804709,-0.916521547915634,-0.831774742628598,0.0177019251054136,0.850903524534118,0.901788347648809,0.123573122745224,-0.768254661323667,-0.953752652759472,-0.262374853703929]},"type":"data.frame","container":"svg","options":{"draw_start":25,"pin_start":true,"x_range":[0.02,50.98],"y_range":[-1.1999804132165,1.19990206677306],"x_name":"x","y_name":"value","line_style":null,"data_line_color":"red","drawn_line_color":"green","title":null,"free_draw":false,"shiny_message_loc":null},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  /tmp/RtmpLAfLYP/temp_libpath73777f23b08b/shinysense/r2d3/drawr/main.js */\n// !preview r2d3 data = tibble(x = 1:50, y = sin(x)), options = list(free_draw = FALSE, draw_start = 10, pin_start = FALSE, x_range = c(0,50), y_range = c(-5,5), line_style = list(strokeWidth = 4), data_line_color = 'steelblue', drawn_line_color = 'orangered', x_name = 'my_x_col', y_name = 'my_y_col', title = 'My Drawr Plot', shiny_message_loc = 'my_shiny_app'), dependencies = c('d3-jetpack'),\n\nconst system_font = `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`;\n\nconst margin = {left: 55, right: 10, top: options.title ? 50: 15, bottom: 25};\n\nconst default_line_attrs = Object.assign({\n  fill: \"none\",\n  stroke: options.data_line_color || 'steelblue',\n  strokeWidth: 4,\n  strokeLinejoin: \"round\",\n  strokeLinecap: \"round\",\n}, options.line_style);\n\n\nlet state = Object.assign({\n  data: data,\n  svg: svg.append('g').translate([margin.left, margin.top]),\n  w: width - margin.left - margin.right,\n  h: height - margin.top - margin.bottom,\n}, options);\n\n\n// To distinguish between code that runs at initialization-time only and\n// code that runs when data changes, organize your code so that the code\n// which responds to data changes is contained within the r2d3.onRender()\nr2d3.onRender(function(data, svg, width, height, options) {\n  state.data = data;\n\n  state = Object.assign(state, options);\n  state.options = options;\n\n  start_drawer(state);\n});\n\n// An explicit resize handler\nr2d3.onResize(function(width, height) {\n  state.w = width - margin.left - margin.right;\n  state.h = height - margin.top - margin.bottom;\n\n  start_drawer(state, reset = false);\n});\n\n\n// Main function that draws current state of viz\nfunction start_drawer(state, reset = true){\n  const scales = setup_scales(state);\n\n  if(!state.free_draw){\n    draw_true_line(state, scales);\n  }\n\n  // Cover hidden portion with a rectangle\n  const line_hider = setup_line_hider(state.svg, state.draw_start, scales);\n\n  if(reset){\n    state.drawable_points = setup_drawable_points(state);\n  }\n\n  draw_user_line(state, scales);\n\n  const on_drag = function(){\n    const drag_x = scales.x.invert(d3.event.x);\n    const drag_y = scales.y.invert(d3.event.y);\n    fill_in_closest_point(state, drag_x, drag_y);\n    draw_user_line(state, scales);\n  };\n\n  const on_end = function(){\n    // Check if all points are drawn so we can reveal line\n    const line_status = get_user_line_status(state);\n\n    if(line_status === 'finished'){\n      // User has completed line drawing\n      if(!state.free_draw)  line_hider.reveal();\n\n      if(state.shiny_message_loc){\n        // Make sure shiny is available before sending message\n        if(typeof Shiny !== 'undefined'){\n          // Send drawn points off to server\n          Shiny.onInputChange(\n            state.shiny_message_loc,\n            state.drawable_points.map(d => d.y)\n          );\n        } else {\n          console.log(`Sending message to ${state.shiny_message_loc}`);\n        }\n      }\n    }\n  };\n\n  setup_draw_watcher(state.svg, scales, on_drag, on_end);\n\n  // Do we have a title?\n  if(state.title){\n    state.svg.append('text')\n      .at({\n        y: -margin.top/2,\n        dominantBaseline: 'middle',\n        fontSize: '1.5rem',\n      })\n      .style('font-family', system_font)\n      .text(state.title);\n  }\n}\n\nfunction setup_drawable_points({data, free_draw, draw_start}){\n  if(free_draw){\n     return data.map(d => ({x: d.x, y: null}));\n   } else {\n    return data\n      .filter(d => d.x >= draw_start)\n      .map((d,i) => ({\n        x: d.x,\n        y: i === 0 ? d.y: null\n      }));\n   }\n\n}\n\nfunction get_user_line_status({drawable_points, free_draw}){\n  const num_points = drawable_points.length;\n  const num_filled = d3.sum(drawable_points.map(d => d.y === null ? 0: 1));\n  const num_starting_filled = free_draw ? 0: 1;\n\n  if(num_filled === num_starting_filled){\n    return 'unstarted';\n  } else if(num_points === num_filled){\n    return 'finished';\n  } else {\n    return 'in_progress';\n  }\n}\n\nfunction draw_true_line({svg, data}, scales){\n  // Draw visable portion of line\n  state.svg.selectAppend(\"path.shown_line\")\n      .datum(data)\n      .at(default_line_attrs)\n      .attr(\"d\", scales.line_drawer);\n}\n\nfunction draw_user_line(state, scales){\n  const {svg, drawable_points, drawn_line_color} = state;\n\n  const user_line = state.svg.selectAppend(\"path.user_line\");\n\n  // Only draw line if there's something to draw.\n  if(get_user_line_status(state) === 'unstarted'){\n    user_line.remove();\n    return;\n  }\n\n  // Draw user hidden line\n  user_line\n      .datum(drawable_points)\n      .at(default_line_attrs)\n      .attr('stroke', drawn_line_color)\n      .attr(\"d\", scales.line_drawer);\n}\n\nfunction fill_in_closest_point({drawable_points, pin_start, free_draw}, drag_x, drag_y){\n  // find closest point on data to draw\n  let last_dist = Infinity;\n  let current_dist;\n  // If nothing triggers break statement than closest point is last point\n  let closest_index = drawable_points.length - 1;\n  const starting_index = free_draw ? 0 : (pin_start ? 1: 0);\n  for(i = starting_index; i < drawable_points.length; i++){\n    current_dist = Math.abs(drawable_points[i].x - drag_x);\n    // If distances start going up we've passed the closest point\n    if(last_dist - current_dist < 0) {\n      closest_index = i - 1;\n      break;\n    }\n    last_dist = current_dist;\n  }\n\n  drawable_points[closest_index].y = drag_y;\n}\n\nfunction setup_draw_watcher(svg, scales, on_drag, on_end){\n\n  svg.selectAppend('rect.drag_watcher')\n    .at({\n      height: scales.y.range()[0],\n      width: scales.x.range()[1],\n      fill: 'grey',\n      fillOpacity: 0,\n    })\n    .call(\n      d3.drag()\n        .on(\"drag\", on_drag)\n        .on(\"end\", on_end)\n    );\n}\n\nfunction setup_line_hider(svg, draw_start, scales){\n  // Cover hidden portion with a rectangle\n  const start_pos = scales.x(draw_start);\n  const rect_width = scales.x.range()[1] - start_pos + 5;\n  const covering_all_data = scales.x(draw_start) === scales.x.range()[0];\n  const rect = svg.selectAppend('rect.line_hider')\n    .at({\n      x: scales.x(draw_start) + (covering_all_data ? 2: 0),\n      height: scales.y.range()[0],\n      width: rect_width,\n      fill: 'white',\n    });\n\n  const reset = () => {\n     rect\n      .translate([0,0])\n      .attr('fill-opacity', 1)\n      .classed('hidden', false);\n  };\n\n  const reveal = () => {\n    rect\n      .transition()\n      .duration(2000)\n      .translate([rect_width, 0])\n      .transition()\n      .duration(0)\n      .attr('fill-opacity', 0)\n      .attr('classed', 'hidden');\n  };\n\n  return {\n    rect,\n    reveal,\n    reset,\n  }\n}\n\nfunction add_axis_label(label, y_axis = true){\n\n  const bump_axis = y_axis ? 'x': 'y';\n\n  const axis_label_style = {\n    [bump_axis]: bump_axis == 'y' ? 3: -2,\n    textAnchor: 'end',\n    fontWeight: '500',\n    fontSize: '0.9rem',\n  };\n\n  return g => {\n    let last_tick = g.select(\".tick:last-of-type\");\n    const no_ticks = last_tick.empty();\n\n    if(no_ticks){\n      last_tick = g.append('g')\n        .attr('class', 'tick');\n    }\n\n    last_tick.select(\"line\").remove();\n\n    last_tick.selectAppend(\"text\")\n            .at(axis_label_style)\n            .html(label);\n  };\n}\n\n// Setup scales for visualization\nfunction setup_scales(state){\n  const {w, h, data, x_range, y_range, x_name, y_name} = state;\n\n  const x = d3.scaleLinear()\n      .domain(x_range || d3.extent(data, d => d.x))\n      .range([0, w]);\n\n  const y = d3.scaleLinear()\n      .domain(y_range || d3.extent(data, d => d.y))\n      .range([h, 0]);\n\n  // Draw x axis\n  state.svg.selectAppend(\"g.x_axis\")\n    .translate([0, h])\n    .call(d3.axisBottom().scale(x).tickSizeOuter(0))\n    .call(add_axis_label(x_name, y_axis = false));\n\n  // Draw y axis\n  state.svg.selectAppend(\"g.y_axis\")\n    .call(d3.axisLeft().scale(y).tickSizeOuter(0))\n    .call(add_axis_label(y_name, y_axis = true));\n\n  const line_drawer = d3.line()\n    .defined(d => d.y !== null)\n    .x(d => x(d.x))\n    .y(d => y(d.y));\n\n  return {\n    x,\n    y,\n    line_drawer,\n  };\n}\n};","style":[],"version":5,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><p>You can customize the axes ranges:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="../reference/drawr.html">drawr</a></span>(</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">  plot_data,</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">  <span class="dt">x_col =</span> x,</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">  <span class="dt">y_col =</span> value,</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">  <span class="dt">draw_start =</span> <span class="dv">25</span>,</a>
<a class="sourceLine" id="cb5-6" data-line-number="6">  <span class="dt">x_range =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="op">-</span><span class="dv">5</span>, <span class="dv">55</span>),</a>
<a class="sourceLine" id="cb5-7" data-line-number="7">  <span class="dt">y_range =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="op">-</span><span class="dv">5</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb5-8" data-line-number="8">)</a></code></pre></div>
<div id="htmlwidget-12c7b5e7817a6dae5322" style="width:672px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-12c7b5e7817a6dae5322">{"x":{"data":{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"y":[0.841470984807897,0.909297426825682,0.141120008059867,-0.756802495307928,-0.958924274663138,-0.279415498198926,0.656986598718789,0.989358246623382,0.412118485241757,-0.54402111088937,-0.999990206550703,-0.536572918000435,0.420167036826641,0.99060735569487,0.650287840157117,-0.287903316665065,-0.961397491879557,-0.750987246771676,0.149877209662952,0.912945250727628,0.836655638536056,-0.00885130929040388,-0.846220404175171,-0.905578362006624,-0.132351750097773,0.762558450479603,0.956375928404503,0.270905788307869,-0.663633884212968,-0.988031624092862,-0.404037645323065,0.551426681241691,0.999911860107267,0.529082686120024,-0.428182669496151,-0.991778853443116,-0.643538133356999,0.296368578709385,0.963795386284088,0.745113160479349,-0.158622668804709,-0.916521547915634,-0.831774742628598,0.0177019251054136,0.850903524534118,0.901788347648809,0.123573122745224,-0.768254661323667,-0.953752652759472,-0.262374853703929]},"type":"data.frame","container":"svg","options":{"draw_start":25,"pin_start":true,"x_range":[-5,55],"y_range":[-5,5],"x_name":"x","y_name":"value","line_style":null,"data_line_color":"steelblue","drawn_line_color":"orangered","title":null,"free_draw":false,"shiny_message_loc":null},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  /tmp/RtmpLAfLYP/temp_libpath73777f23b08b/shinysense/r2d3/drawr/main.js */\n// !preview r2d3 data = tibble(x = 1:50, y = sin(x)), options = list(free_draw = FALSE, draw_start = 10, pin_start = FALSE, x_range = c(0,50), y_range = c(-5,5), line_style = list(strokeWidth = 4), data_line_color = 'steelblue', drawn_line_color = 'orangered', x_name = 'my_x_col', y_name = 'my_y_col', title = 'My Drawr Plot', shiny_message_loc = 'my_shiny_app'), dependencies = c('d3-jetpack'),\n\nconst system_font = `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`;\n\nconst margin = {left: 55, right: 10, top: options.title ? 50: 15, bottom: 25};\n\nconst default_line_attrs = Object.assign({\n  fill: \"none\",\n  stroke: options.data_line_color || 'steelblue',\n  strokeWidth: 4,\n  strokeLinejoin: \"round\",\n  strokeLinecap: \"round\",\n}, options.line_style);\n\n\nlet state = Object.assign({\n  data: data,\n  svg: svg.append('g').translate([margin.left, margin.top]),\n  w: width - margin.left - margin.right,\n  h: height - margin.top - margin.bottom,\n}, options);\n\n\n// To distinguish between code that runs at initialization-time only and\n// code that runs when data changes, organize your code so that the code\n// which responds to data changes is contained within the r2d3.onRender()\nr2d3.onRender(function(data, svg, width, height, options) {\n  state.data = data;\n\n  state = Object.assign(state, options);\n  state.options = options;\n\n  start_drawer(state);\n});\n\n// An explicit resize handler\nr2d3.onResize(function(width, height) {\n  state.w = width - margin.left - margin.right;\n  state.h = height - margin.top - margin.bottom;\n\n  start_drawer(state, reset = false);\n});\n\n\n// Main function that draws current state of viz\nfunction start_drawer(state, reset = true){\n  const scales = setup_scales(state);\n\n  if(!state.free_draw){\n    draw_true_line(state, scales);\n  }\n\n  // Cover hidden portion with a rectangle\n  const line_hider = setup_line_hider(state.svg, state.draw_start, scales);\n\n  if(reset){\n    state.drawable_points = setup_drawable_points(state);\n  }\n\n  draw_user_line(state, scales);\n\n  const on_drag = function(){\n    const drag_x = scales.x.invert(d3.event.x);\n    const drag_y = scales.y.invert(d3.event.y);\n    fill_in_closest_point(state, drag_x, drag_y);\n    draw_user_line(state, scales);\n  };\n\n  const on_end = function(){\n    // Check if all points are drawn so we can reveal line\n    const line_status = get_user_line_status(state);\n\n    if(line_status === 'finished'){\n      // User has completed line drawing\n      if(!state.free_draw)  line_hider.reveal();\n\n      if(state.shiny_message_loc){\n        // Make sure shiny is available before sending message\n        if(typeof Shiny !== 'undefined'){\n          // Send drawn points off to server\n          Shiny.onInputChange(\n            state.shiny_message_loc,\n            state.drawable_points.map(d => d.y)\n          );\n        } else {\n          console.log(`Sending message to ${state.shiny_message_loc}`);\n        }\n      }\n    }\n  };\n\n  setup_draw_watcher(state.svg, scales, on_drag, on_end);\n\n  // Do we have a title?\n  if(state.title){\n    state.svg.append('text')\n      .at({\n        y: -margin.top/2,\n        dominantBaseline: 'middle',\n        fontSize: '1.5rem',\n      })\n      .style('font-family', system_font)\n      .text(state.title);\n  }\n}\n\nfunction setup_drawable_points({data, free_draw, draw_start}){\n  if(free_draw){\n     return data.map(d => ({x: d.x, y: null}));\n   } else {\n    return data\n      .filter(d => d.x >= draw_start)\n      .map((d,i) => ({\n        x: d.x,\n        y: i === 0 ? d.y: null\n      }));\n   }\n\n}\n\nfunction get_user_line_status({drawable_points, free_draw}){\n  const num_points = drawable_points.length;\n  const num_filled = d3.sum(drawable_points.map(d => d.y === null ? 0: 1));\n  const num_starting_filled = free_draw ? 0: 1;\n\n  if(num_filled === num_starting_filled){\n    return 'unstarted';\n  } else if(num_points === num_filled){\n    return 'finished';\n  } else {\n    return 'in_progress';\n  }\n}\n\nfunction draw_true_line({svg, data}, scales){\n  // Draw visable portion of line\n  state.svg.selectAppend(\"path.shown_line\")\n      .datum(data)\n      .at(default_line_attrs)\n      .attr(\"d\", scales.line_drawer);\n}\n\nfunction draw_user_line(state, scales){\n  const {svg, drawable_points, drawn_line_color} = state;\n\n  const user_line = state.svg.selectAppend(\"path.user_line\");\n\n  // Only draw line if there's something to draw.\n  if(get_user_line_status(state) === 'unstarted'){\n    user_line.remove();\n    return;\n  }\n\n  // Draw user hidden line\n  user_line\n      .datum(drawable_points)\n      .at(default_line_attrs)\n      .attr('stroke', drawn_line_color)\n      .attr(\"d\", scales.line_drawer);\n}\n\nfunction fill_in_closest_point({drawable_points, pin_start, free_draw}, drag_x, drag_y){\n  // find closest point on data to draw\n  let last_dist = Infinity;\n  let current_dist;\n  // If nothing triggers break statement than closest point is last point\n  let closest_index = drawable_points.length - 1;\n  const starting_index = free_draw ? 0 : (pin_start ? 1: 0);\n  for(i = starting_index; i < drawable_points.length; i++){\n    current_dist = Math.abs(drawable_points[i].x - drag_x);\n    // If distances start going up we've passed the closest point\n    if(last_dist - current_dist < 0) {\n      closest_index = i - 1;\n      break;\n    }\n    last_dist = current_dist;\n  }\n\n  drawable_points[closest_index].y = drag_y;\n}\n\nfunction setup_draw_watcher(svg, scales, on_drag, on_end){\n\n  svg.selectAppend('rect.drag_watcher')\n    .at({\n      height: scales.y.range()[0],\n      width: scales.x.range()[1],\n      fill: 'grey',\n      fillOpacity: 0,\n    })\n    .call(\n      d3.drag()\n        .on(\"drag\", on_drag)\n        .on(\"end\", on_end)\n    );\n}\n\nfunction setup_line_hider(svg, draw_start, scales){\n  // Cover hidden portion with a rectangle\n  const start_pos = scales.x(draw_start);\n  const rect_width = scales.x.range()[1] - start_pos + 5;\n  const covering_all_data = scales.x(draw_start) === scales.x.range()[0];\n  const rect = svg.selectAppend('rect.line_hider')\n    .at({\n      x: scales.x(draw_start) + (covering_all_data ? 2: 0),\n      height: scales.y.range()[0],\n      width: rect_width,\n      fill: 'white',\n    });\n\n  const reset = () => {\n     rect\n      .translate([0,0])\n      .attr('fill-opacity', 1)\n      .classed('hidden', false);\n  };\n\n  const reveal = () => {\n    rect\n      .transition()\n      .duration(2000)\n      .translate([rect_width, 0])\n      .transition()\n      .duration(0)\n      .attr('fill-opacity', 0)\n      .attr('classed', 'hidden');\n  };\n\n  return {\n    rect,\n    reveal,\n    reset,\n  }\n}\n\nfunction add_axis_label(label, y_axis = true){\n\n  const bump_axis = y_axis ? 'x': 'y';\n\n  const axis_label_style = {\n    [bump_axis]: bump_axis == 'y' ? 3: -2,\n    textAnchor: 'end',\n    fontWeight: '500',\n    fontSize: '0.9rem',\n  };\n\n  return g => {\n    let last_tick = g.select(\".tick:last-of-type\");\n    const no_ticks = last_tick.empty();\n\n    if(no_ticks){\n      last_tick = g.append('g')\n        .attr('class', 'tick');\n    }\n\n    last_tick.select(\"line\").remove();\n\n    last_tick.selectAppend(\"text\")\n            .at(axis_label_style)\n            .html(label);\n  };\n}\n\n// Setup scales for visualization\nfunction setup_scales(state){\n  const {w, h, data, x_range, y_range, x_name, y_name} = state;\n\n  const x = d3.scaleLinear()\n      .domain(x_range || d3.extent(data, d => d.x))\n      .range([0, w]);\n\n  const y = d3.scaleLinear()\n      .domain(y_range || d3.extent(data, d => d.y))\n      .range([h, 0]);\n\n  // Draw x axis\n  state.svg.selectAppend(\"g.x_axis\")\n    .translate([0, h])\n    .call(d3.axisBottom().scale(x).tickSizeOuter(0))\n    .call(add_axis_label(x_name, y_axis = false));\n\n  // Draw y axis\n  state.svg.selectAppend(\"g.y_axis\")\n    .call(d3.axisLeft().scale(y).tickSizeOuter(0))\n    .call(add_axis_label(y_name, y_axis = true));\n\n  const line_drawer = d3.line()\n    .defined(d => d.y !== null)\n    .x(d => x(d.x))\n    .y(d => y(d.y));\n\n  return {\n    x,\n    y,\n    line_drawer,\n  };\n}\n};","style":[],"version":5,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><p>You can give your plot a title and custom axis labels.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="../reference/drawr.html">drawr</a></span>(</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">  plot_data,</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">  <span class="dt">x_col =</span> x,</a>
<a class="sourceLine" id="cb6-4" data-line-number="4">  <span class="dt">x_lab =</span> <span class="st">'time'</span>,</a>
<a class="sourceLine" id="cb6-5" data-line-number="5">  <span class="dt">y_col =</span> value,</a>
<a class="sourceLine" id="cb6-6" data-line-number="6">  <span class="dt">y_lab =</span> <span class="st">'dollars'</span>,</a>
<a class="sourceLine" id="cb6-7" data-line-number="7">  <span class="dt">title =</span> <span class="st">'Guess the pattern!'</span>,</a>
<a class="sourceLine" id="cb6-8" data-line-number="8">  <span class="dt">draw_start =</span> <span class="dv">35</span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9">)</a></code></pre></div>
<div id="htmlwidget-5fb9c0bebd5d363597b3" style="width:672px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-5fb9c0bebd5d363597b3">{"x":{"data":{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"y":[0.841470984807897,0.909297426825682,0.141120008059867,-0.756802495307928,-0.958924274663138,-0.279415498198926,0.656986598718789,0.989358246623382,0.412118485241757,-0.54402111088937,-0.999990206550703,-0.536572918000435,0.420167036826641,0.99060735569487,0.650287840157117,-0.287903316665065,-0.961397491879557,-0.750987246771676,0.149877209662952,0.912945250727628,0.836655638536056,-0.00885130929040388,-0.846220404175171,-0.905578362006624,-0.132351750097773,0.762558450479603,0.956375928404503,0.270905788307869,-0.663633884212968,-0.988031624092862,-0.404037645323065,0.551426681241691,0.999911860107267,0.529082686120024,-0.428182669496151,-0.991778853443116,-0.643538133356999,0.296368578709385,0.963795386284088,0.745113160479349,-0.158622668804709,-0.916521547915634,-0.831774742628598,0.0177019251054136,0.850903524534118,0.901788347648809,0.123573122745224,-0.768254661323667,-0.953752652759472,-0.262374853703929]},"type":"data.frame","container":"svg","options":{"draw_start":35,"pin_start":true,"x_range":[0.02,50.98],"y_range":[-1.1999804132165,1.19990206677306],"x_name":"time","y_name":"dollars","line_style":null,"data_line_color":"steelblue","drawn_line_color":"orangered","title":"Guess the pattern!","free_draw":false,"shiny_message_loc":null},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  /tmp/RtmpLAfLYP/temp_libpath73777f23b08b/shinysense/r2d3/drawr/main.js */\n// !preview r2d3 data = tibble(x = 1:50, y = sin(x)), options = list(free_draw = FALSE, draw_start = 10, pin_start = FALSE, x_range = c(0,50), y_range = c(-5,5), line_style = list(strokeWidth = 4), data_line_color = 'steelblue', drawn_line_color = 'orangered', x_name = 'my_x_col', y_name = 'my_y_col', title = 'My Drawr Plot', shiny_message_loc = 'my_shiny_app'), dependencies = c('d3-jetpack'),\n\nconst system_font = `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`;\n\nconst margin = {left: 55, right: 10, top: options.title ? 50: 15, bottom: 25};\n\nconst default_line_attrs = Object.assign({\n  fill: \"none\",\n  stroke: options.data_line_color || 'steelblue',\n  strokeWidth: 4,\n  strokeLinejoin: \"round\",\n  strokeLinecap: \"round\",\n}, options.line_style);\n\n\nlet state = Object.assign({\n  data: data,\n  svg: svg.append('g').translate([margin.left, margin.top]),\n  w: width - margin.left - margin.right,\n  h: height - margin.top - margin.bottom,\n}, options);\n\n\n// To distinguish between code that runs at initialization-time only and\n// code that runs when data changes, organize your code so that the code\n// which responds to data changes is contained within the r2d3.onRender()\nr2d3.onRender(function(data, svg, width, height, options) {\n  state.data = data;\n\n  state = Object.assign(state, options);\n  state.options = options;\n\n  start_drawer(state);\n});\n\n// An explicit resize handler\nr2d3.onResize(function(width, height) {\n  state.w = width - margin.left - margin.right;\n  state.h = height - margin.top - margin.bottom;\n\n  start_drawer(state, reset = false);\n});\n\n\n// Main function that draws current state of viz\nfunction start_drawer(state, reset = true){\n  const scales = setup_scales(state);\n\n  if(!state.free_draw){\n    draw_true_line(state, scales);\n  }\n\n  // Cover hidden portion with a rectangle\n  const line_hider = setup_line_hider(state.svg, state.draw_start, scales);\n\n  if(reset){\n    state.drawable_points = setup_drawable_points(state);\n  }\n\n  draw_user_line(state, scales);\n\n  const on_drag = function(){\n    const drag_x = scales.x.invert(d3.event.x);\n    const drag_y = scales.y.invert(d3.event.y);\n    fill_in_closest_point(state, drag_x, drag_y);\n    draw_user_line(state, scales);\n  };\n\n  const on_end = function(){\n    // Check if all points are drawn so we can reveal line\n    const line_status = get_user_line_status(state);\n\n    if(line_status === 'finished'){\n      // User has completed line drawing\n      if(!state.free_draw)  line_hider.reveal();\n\n      if(state.shiny_message_loc){\n        // Make sure shiny is available before sending message\n        if(typeof Shiny !== 'undefined'){\n          // Send drawn points off to server\n          Shiny.onInputChange(\n            state.shiny_message_loc,\n            state.drawable_points.map(d => d.y)\n          );\n        } else {\n          console.log(`Sending message to ${state.shiny_message_loc}`);\n        }\n      }\n    }\n  };\n\n  setup_draw_watcher(state.svg, scales, on_drag, on_end);\n\n  // Do we have a title?\n  if(state.title){\n    state.svg.append('text')\n      .at({\n        y: -margin.top/2,\n        dominantBaseline: 'middle',\n        fontSize: '1.5rem',\n      })\n      .style('font-family', system_font)\n      .text(state.title);\n  }\n}\n\nfunction setup_drawable_points({data, free_draw, draw_start}){\n  if(free_draw){\n     return data.map(d => ({x: d.x, y: null}));\n   } else {\n    return data\n      .filter(d => d.x >= draw_start)\n      .map((d,i) => ({\n        x: d.x,\n        y: i === 0 ? d.y: null\n      }));\n   }\n\n}\n\nfunction get_user_line_status({drawable_points, free_draw}){\n  const num_points = drawable_points.length;\n  const num_filled = d3.sum(drawable_points.map(d => d.y === null ? 0: 1));\n  const num_starting_filled = free_draw ? 0: 1;\n\n  if(num_filled === num_starting_filled){\n    return 'unstarted';\n  } else if(num_points === num_filled){\n    return 'finished';\n  } else {\n    return 'in_progress';\n  }\n}\n\nfunction draw_true_line({svg, data}, scales){\n  // Draw visable portion of line\n  state.svg.selectAppend(\"path.shown_line\")\n      .datum(data)\n      .at(default_line_attrs)\n      .attr(\"d\", scales.line_drawer);\n}\n\nfunction draw_user_line(state, scales){\n  const {svg, drawable_points, drawn_line_color} = state;\n\n  const user_line = state.svg.selectAppend(\"path.user_line\");\n\n  // Only draw line if there's something to draw.\n  if(get_user_line_status(state) === 'unstarted'){\n    user_line.remove();\n    return;\n  }\n\n  // Draw user hidden line\n  user_line\n      .datum(drawable_points)\n      .at(default_line_attrs)\n      .attr('stroke', drawn_line_color)\n      .attr(\"d\", scales.line_drawer);\n}\n\nfunction fill_in_closest_point({drawable_points, pin_start, free_draw}, drag_x, drag_y){\n  // find closest point on data to draw\n  let last_dist = Infinity;\n  let current_dist;\n  // If nothing triggers break statement than closest point is last point\n  let closest_index = drawable_points.length - 1;\n  const starting_index = free_draw ? 0 : (pin_start ? 1: 0);\n  for(i = starting_index; i < drawable_points.length; i++){\n    current_dist = Math.abs(drawable_points[i].x - drag_x);\n    // If distances start going up we've passed the closest point\n    if(last_dist - current_dist < 0) {\n      closest_index = i - 1;\n      break;\n    }\n    last_dist = current_dist;\n  }\n\n  drawable_points[closest_index].y = drag_y;\n}\n\nfunction setup_draw_watcher(svg, scales, on_drag, on_end){\n\n  svg.selectAppend('rect.drag_watcher')\n    .at({\n      height: scales.y.range()[0],\n      width: scales.x.range()[1],\n      fill: 'grey',\n      fillOpacity: 0,\n    })\n    .call(\n      d3.drag()\n        .on(\"drag\", on_drag)\n        .on(\"end\", on_end)\n    );\n}\n\nfunction setup_line_hider(svg, draw_start, scales){\n  // Cover hidden portion with a rectangle\n  const start_pos = scales.x(draw_start);\n  const rect_width = scales.x.range()[1] - start_pos + 5;\n  const covering_all_data = scales.x(draw_start) === scales.x.range()[0];\n  const rect = svg.selectAppend('rect.line_hider')\n    .at({\n      x: scales.x(draw_start) + (covering_all_data ? 2: 0),\n      height: scales.y.range()[0],\n      width: rect_width,\n      fill: 'white',\n    });\n\n  const reset = () => {\n     rect\n      .translate([0,0])\n      .attr('fill-opacity', 1)\n      .classed('hidden', false);\n  };\n\n  const reveal = () => {\n    rect\n      .transition()\n      .duration(2000)\n      .translate([rect_width, 0])\n      .transition()\n      .duration(0)\n      .attr('fill-opacity', 0)\n      .attr('classed', 'hidden');\n  };\n\n  return {\n    rect,\n    reveal,\n    reset,\n  }\n}\n\nfunction add_axis_label(label, y_axis = true){\n\n  const bump_axis = y_axis ? 'x': 'y';\n\n  const axis_label_style = {\n    [bump_axis]: bump_axis == 'y' ? 3: -2,\n    textAnchor: 'end',\n    fontWeight: '500',\n    fontSize: '0.9rem',\n  };\n\n  return g => {\n    let last_tick = g.select(\".tick:last-of-type\");\n    const no_ticks = last_tick.empty();\n\n    if(no_ticks){\n      last_tick = g.append('g')\n        .attr('class', 'tick');\n    }\n\n    last_tick.select(\"line\").remove();\n\n    last_tick.selectAppend(\"text\")\n            .at(axis_label_style)\n            .html(label);\n  };\n}\n\n// Setup scales for visualization\nfunction setup_scales(state){\n  const {w, h, data, x_range, y_range, x_name, y_name} = state;\n\n  const x = d3.scaleLinear()\n      .domain(x_range || d3.extent(data, d => d.x))\n      .range([0, w]);\n\n  const y = d3.scaleLinear()\n      .domain(y_range || d3.extent(data, d => d.y))\n      .range([h, 0]);\n\n  // Draw x axis\n  state.svg.selectAppend(\"g.x_axis\")\n    .translate([0, h])\n    .call(d3.axisBottom().scale(x).tickSizeOuter(0))\n    .call(add_axis_label(x_name, y_axis = false));\n\n  // Draw y axis\n  state.svg.selectAppend(\"g.y_axis\")\n    .call(d3.axisLeft().scale(y).tickSizeOuter(0))\n    .call(add_axis_label(y_name, y_axis = true));\n\n  const line_drawer = d3.line()\n    .defined(d => d.y !== null)\n    .x(d => x(d.x))\n    .y(d => y(d.y));\n\n  return {\n    x,\n    y,\n    line_drawer,\n  };\n}\n};","style":[],"version":5,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><p>You can even just have the user draw for fun. (Makes more sense when used with <code>shinydrawr</code> where data can be retreived)</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw"><a href="../reference/drawr.html">drawr</a></span>(</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">  plot_data,</a>
<a class="sourceLine" id="cb7-3" data-line-number="3">  <span class="dt">free_draw =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb7-4" data-line-number="4">  <span class="dt">x_col =</span> x,</a>
<a class="sourceLine" id="cb7-5" data-line-number="5">  <span class="dt">title =</span> <span class="st">'Free Drawr'</span>,</a>
<a class="sourceLine" id="cb7-6" data-line-number="6">  <span class="dt">y_range =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="op">-</span><span class="dv">5</span>,<span class="dv">5</span>),</a>
<a class="sourceLine" id="cb7-7" data-line-number="7">)</a></code></pre></div>
<div id="htmlwidget-dd44a439dadd1ea4ac2c" style="width:672px;height:432.632880098888px;" class="r2d3 html-widget"></div>
<script type="application/json" data-for="htmlwidget-dd44a439dadd1ea4ac2c">{"x":{"data":{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50]},"type":"data.frame","container":"svg","options":{"draw_start":1,"pin_start":true,"x_range":[0.02,50.98],"y_range":[-5,5],"x_name":"x","y_name":"y","line_style":null,"data_line_color":"steelblue","drawn_line_color":"orangered","title":"Free Drawr","free_draw":true,"shiny_message_loc":null},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  /tmp/RtmpLAfLYP/temp_libpath73777f23b08b/shinysense/r2d3/drawr/main.js */\n// !preview r2d3 data = tibble(x = 1:50, y = sin(x)), options = list(free_draw = FALSE, draw_start = 10, pin_start = FALSE, x_range = c(0,50), y_range = c(-5,5), line_style = list(strokeWidth = 4), data_line_color = 'steelblue', drawn_line_color = 'orangered', x_name = 'my_x_col', y_name = 'my_y_col', title = 'My Drawr Plot', shiny_message_loc = 'my_shiny_app'), dependencies = c('d3-jetpack'),\n\nconst system_font = `-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"`;\n\nconst margin = {left: 55, right: 10, top: options.title ? 50: 15, bottom: 25};\n\nconst default_line_attrs = Object.assign({\n  fill: \"none\",\n  stroke: options.data_line_color || 'steelblue',\n  strokeWidth: 4,\n  strokeLinejoin: \"round\",\n  strokeLinecap: \"round\",\n}, options.line_style);\n\n\nlet state = Object.assign({\n  data: data,\n  svg: svg.append('g').translate([margin.left, margin.top]),\n  w: width - margin.left - margin.right,\n  h: height - margin.top - margin.bottom,\n}, options);\n\n\n// To distinguish between code that runs at initialization-time only and\n// code that runs when data changes, organize your code so that the code\n// which responds to data changes is contained within the r2d3.onRender()\nr2d3.onRender(function(data, svg, width, height, options) {\n  state.data = data;\n\n  state = Object.assign(state, options);\n  state.options = options;\n\n  start_drawer(state);\n});\n\n// An explicit resize handler\nr2d3.onResize(function(width, height) {\n  state.w = width - margin.left - margin.right;\n  state.h = height - margin.top - margin.bottom;\n\n  start_drawer(state, reset = false);\n});\n\n\n// Main function that draws current state of viz\nfunction start_drawer(state, reset = true){\n  const scales = setup_scales(state);\n\n  if(!state.free_draw){\n    draw_true_line(state, scales);\n  }\n\n  // Cover hidden portion with a rectangle\n  const line_hider = setup_line_hider(state.svg, state.draw_start, scales);\n\n  if(reset){\n    state.drawable_points = setup_drawable_points(state);\n  }\n\n  draw_user_line(state, scales);\n\n  const on_drag = function(){\n    const drag_x = scales.x.invert(d3.event.x);\n    const drag_y = scales.y.invert(d3.event.y);\n    fill_in_closest_point(state, drag_x, drag_y);\n    draw_user_line(state, scales);\n  };\n\n  const on_end = function(){\n    // Check if all points are drawn so we can reveal line\n    const line_status = get_user_line_status(state);\n\n    if(line_status === 'finished'){\n      // User has completed line drawing\n      if(!state.free_draw)  line_hider.reveal();\n\n      if(state.shiny_message_loc){\n        // Make sure shiny is available before sending message\n        if(typeof Shiny !== 'undefined'){\n          // Send drawn points off to server\n          Shiny.onInputChange(\n            state.shiny_message_loc,\n            state.drawable_points.map(d => d.y)\n          );\n        } else {\n          console.log(`Sending message to ${state.shiny_message_loc}`);\n        }\n      }\n    }\n  };\n\n  setup_draw_watcher(state.svg, scales, on_drag, on_end);\n\n  // Do we have a title?\n  if(state.title){\n    state.svg.append('text')\n      .at({\n        y: -margin.top/2,\n        dominantBaseline: 'middle',\n        fontSize: '1.5rem',\n      })\n      .style('font-family', system_font)\n      .text(state.title);\n  }\n}\n\nfunction setup_drawable_points({data, free_draw, draw_start}){\n  if(free_draw){\n     return data.map(d => ({x: d.x, y: null}));\n   } else {\n    return data\n      .filter(d => d.x >= draw_start)\n      .map((d,i) => ({\n        x: d.x,\n        y: i === 0 ? d.y: null\n      }));\n   }\n\n}\n\nfunction get_user_line_status({drawable_points, free_draw}){\n  const num_points = drawable_points.length;\n  const num_filled = d3.sum(drawable_points.map(d => d.y === null ? 0: 1));\n  const num_starting_filled = free_draw ? 0: 1;\n\n  if(num_filled === num_starting_filled){\n    return 'unstarted';\n  } else if(num_points === num_filled){\n    return 'finished';\n  } else {\n    return 'in_progress';\n  }\n}\n\nfunction draw_true_line({svg, data}, scales){\n  // Draw visable portion of line\n  state.svg.selectAppend(\"path.shown_line\")\n      .datum(data)\n      .at(default_line_attrs)\n      .attr(\"d\", scales.line_drawer);\n}\n\nfunction draw_user_line(state, scales){\n  const {svg, drawable_points, drawn_line_color} = state;\n\n  const user_line = state.svg.selectAppend(\"path.user_line\");\n\n  // Only draw line if there's something to draw.\n  if(get_user_line_status(state) === 'unstarted'){\n    user_line.remove();\n    return;\n  }\n\n  // Draw user hidden line\n  user_line\n      .datum(drawable_points)\n      .at(default_line_attrs)\n      .attr('stroke', drawn_line_color)\n      .attr(\"d\", scales.line_drawer);\n}\n\nfunction fill_in_closest_point({drawable_points, pin_start, free_draw}, drag_x, drag_y){\n  // find closest point on data to draw\n  let last_dist = Infinity;\n  let current_dist;\n  // If nothing triggers break statement than closest point is last point\n  let closest_index = drawable_points.length - 1;\n  const starting_index = free_draw ? 0 : (pin_start ? 1: 0);\n  for(i = starting_index; i < drawable_points.length; i++){\n    current_dist = Math.abs(drawable_points[i].x - drag_x);\n    // If distances start going up we've passed the closest point\n    if(last_dist - current_dist < 0) {\n      closest_index = i - 1;\n      break;\n    }\n    last_dist = current_dist;\n  }\n\n  drawable_points[closest_index].y = drag_y;\n}\n\nfunction setup_draw_watcher(svg, scales, on_drag, on_end){\n\n  svg.selectAppend('rect.drag_watcher')\n    .at({\n      height: scales.y.range()[0],\n      width: scales.x.range()[1],\n      fill: 'grey',\n      fillOpacity: 0,\n    })\n    .call(\n      d3.drag()\n        .on(\"drag\", on_drag)\n        .on(\"end\", on_end)\n    );\n}\n\nfunction setup_line_hider(svg, draw_start, scales){\n  // Cover hidden portion with a rectangle\n  const start_pos = scales.x(draw_start);\n  const rect_width = scales.x.range()[1] - start_pos + 5;\n  const covering_all_data = scales.x(draw_start) === scales.x.range()[0];\n  const rect = svg.selectAppend('rect.line_hider')\n    .at({\n      x: scales.x(draw_start) + (covering_all_data ? 2: 0),\n      height: scales.y.range()[0],\n      width: rect_width,\n      fill: 'white',\n    });\n\n  const reset = () => {\n     rect\n      .translate([0,0])\n      .attr('fill-opacity', 1)\n      .classed('hidden', false);\n  };\n\n  const reveal = () => {\n    rect\n      .transition()\n      .duration(2000)\n      .translate([rect_width, 0])\n      .transition()\n      .duration(0)\n      .attr('fill-opacity', 0)\n      .attr('classed', 'hidden');\n  };\n\n  return {\n    rect,\n    reveal,\n    reset,\n  }\n}\n\nfunction add_axis_label(label, y_axis = true){\n\n  const bump_axis = y_axis ? 'x': 'y';\n\n  const axis_label_style = {\n    [bump_axis]: bump_axis == 'y' ? 3: -2,\n    textAnchor: 'end',\n    fontWeight: '500',\n    fontSize: '0.9rem',\n  };\n\n  return g => {\n    let last_tick = g.select(\".tick:last-of-type\");\n    const no_ticks = last_tick.empty();\n\n    if(no_ticks){\n      last_tick = g.append('g')\n        .attr('class', 'tick');\n    }\n\n    last_tick.select(\"line\").remove();\n\n    last_tick.selectAppend(\"text\")\n            .at(axis_label_style)\n            .html(label);\n  };\n}\n\n// Setup scales for visualization\nfunction setup_scales(state){\n  const {w, h, data, x_range, y_range, x_name, y_name} = state;\n\n  const x = d3.scaleLinear()\n      .domain(x_range || d3.extent(data, d => d.x))\n      .range([0, w]);\n\n  const y = d3.scaleLinear()\n      .domain(y_range || d3.extent(data, d => d.y))\n      .range([h, 0]);\n\n  // Draw x axis\n  state.svg.selectAppend(\"g.x_axis\")\n    .translate([0, h])\n    .call(d3.axisBottom().scale(x).tickSizeOuter(0))\n    .call(add_axis_label(x_name, y_axis = false));\n\n  // Draw y axis\n  state.svg.selectAppend(\"g.y_axis\")\n    .call(d3.axisLeft().scale(y).tickSizeOuter(0))\n    .call(add_axis_label(y_name, y_axis = true));\n\n  const line_drawer = d3.line()\n    .defined(d => d.y !== null)\n    .x(d => x(d.x))\n    .y(d => y(d.y));\n\n  return {\n    x,\n    y,\n    line_drawer,\n  };\n}\n};","style":[],"version":5,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><p>For more information on all the options available visit the <a href="http://nickstrayer.me/shinysense/reference/drawr.html">shinysense website’s documentation</a> or simply run <code><a href="../reference/drawr.html">?drawr</a></code> in your R console.</p>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Nick Strayer.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.0.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
